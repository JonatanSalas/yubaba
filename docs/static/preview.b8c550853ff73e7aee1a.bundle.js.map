{"version":3,"file":"static/preview.b8c550853ff73e7aee1a.bundle.js","sources":["webpack:///./packages/react-next/test/examples/5.google-music.stories.tsx"],"sourcesContent":["import styled from 'styled-components';\nimport * as React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport BodyClassName from 'react-body-classname';\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Typography,\n  createMuiTheme,\n  MuiThemeProvider,\n} from 'material-ui';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport BackIcon from '@material-ui/icons/ArrowBack';\nimport Album from './googleMusic/Album';\nimport { BabaManager } from '../../src';\nimport data from './googleMusic/data';\nimport createScrollStore from '../RestoreScrollOnMount';\nimport ScrollTopOnMount from '../ScrollTopOnMount';\nimport AlbumDetails from './googleMusic/AlbumDetails';\n\nconst RestoreScrollOnMount = createScrollStore();\n\ninterface BackgroundProps {\n  background: string;\n}\n\nconst Container = styled.div`\n  padding-top: 66px;\n  margin: 0 auto;\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ${(props: BackgroundProps) => props.background};\n`;\n\nconst DetailsContainer = Container.extend`\n  z-index: 1111;\n  position: absolute;\n  top: 0;\n  min-height: 100vh;\n  left: 0;\n  right: 0;\n`;\n\nconst ItemList = styled.div`\n  display: grid;\n  grid-auto-flow: row dense;\n  grid-template-columns: repeat(5, auto);\n  grid-gap: 4px;\n`;\n\nconst NoMarginBody = styled(BodyClassName)`\n  margin: 0;\n  background: #212121;\n`;\n\nconst FixedBg = styled.div`\n  position: fixed;\n  background: ${(props: BackgroundProps) => props.background};\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: -1;\n  background-size: cover;\n  background-position-y: -110px;\n  background-repeat: no-repeat;\n`;\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#484848',\n      main: '#212121',\n      dark: '#000000',\n      contrastText: '#fff',\n    },\n  },\n});\n\nclass MultipleTargets extends React.Component<{\n  expand?: boolean;\n  shrink?: boolean;\n  wait?: boolean;\n}> {\n  state = {\n    shown: undefined,\n  };\n\n  select = (index?: number) => {\n    this.setState({\n      shown: index,\n    });\n  };\n\n  getKey() {\n    return [\n      'multiple-targets',\n      'move',\n      this.props.expand && 'expand',\n      this.props.shrink && 'shrink',\n      this.props.wait && 'wait',\n    ]\n      .filter(Boolean)\n      .join('-');\n  }\n\n  renderItems() {\n    const items = data.map((data, index) => (\n      <Album\n        expand={this.props.expand}\n        baba={`${this.getKey()}-${index}`}\n        onClick={() => this.select(index)}\n        key={index}\n        {...data}\n      />\n    ));\n\n    return (\n      <BabaManager key=\"b\">\n        {props => (\n          <Container background=\"#212121\" {...props}>\n            <RestoreScrollOnMount />\n            <NoMarginBody className=\"\" />\n            <ItemList>{items}</ItemList>\n          </Container>\n        )}\n      </BabaManager>\n    );\n  }\n\n  renderDetails(index?: number) {\n    const hero = index && data[index].heroBg;\n\n    return (\n      <BabaManager key=\"c\">\n        {props => (\n          <DetailsContainer background=\"\" {...props}>\n            <FixedBg\n              background={this.props.expand && hero ? `url(${hero})` : data[index || 0].color}\n            />\n            <AppBar position=\"fixed\" style={{ background: 'transparent', boxShadow: 'none' }}>\n              <Toolbar>\n                <IconButton\n                  color=\"inherit\"\n                  aria-label=\"Menu\"\n                  style={{ marginRight: '10px' }}\n                  onClick={() => this.select()}\n                >\n                  <BackIcon />\n                </IconButton>\n\n                <IconButton color=\"inherit\" aria-label=\"Menu\" style={{ marginLeft: 'auto' }}>\n                  <SearchIcon />\n                </IconButton>\n\n                <IconButton color=\"inherit\" aria-label=\"Menu\">\n                  <MoreVert />\n                </IconButton>\n              </Toolbar>\n            </AppBar>\n\n            <NoMarginBody className=\"\" />\n            <ScrollTopOnMount />\n\n            <AlbumDetails\n              baba={`${this.getKey()}-${index}`}\n              shrink={!!this.props.shrink}\n              wait={!!this.props.wait}\n              {...data[index || 0]}\n            />\n          </DetailsContainer>\n        )}\n      </BabaManager>\n    );\n  }\n\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n        <AppBar position=\"fixed\">\n          <Toolbar>\n            <IconButton color=\"inherit\" aria-label=\"Menu\" style={{ marginRight: '10px' }}>\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"title\" color=\"inherit\">\n              My Library\n            </Typography>\n\n            <IconButton color=\"inherit\" aria-label=\"Menu\" style={{ marginLeft: 'auto' }}>\n              <SearchIcon />\n            </IconButton>\n\n            <IconButton color=\"inherit\" aria-label=\"Menu\">\n              <MoreVert />\n            </IconButton>\n          </Toolbar>\n        </AppBar>\n\n        {this.state.shown !== undefined ? this.renderDetails(this.state.shown) : this.renderItems()}\n      </MuiThemeProvider>\n    );\n  }\n}\n\nstoriesOf('Examples/GoogleMusic', module)\n  .add('move', () => <MultipleTargets />)\n  .add('move expand', () => <MultipleTargets expand />)\n  .add('move expand shrink', () => <MultipleTargets expand shrink />)\n  .add('move expand shrink wait', () => <MultipleTargets expand shrink wait />);\n"],"mappings":"AAuBA","sourceRoot":""}